<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>How webmails block images</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">How webmails block images</h1>
</header>
<section data-field="subtitle" class="p-summary">
Email clients block images. Campaign Monitor and Litmus already have detailed articles explaining when that happens. But I always wondered…
</section>
<section data-field="body" class="e-content">
<section name="6fda" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="d2d1" id="d2d1" class="graf graf--h3 graf--leading graf--title">How webmails block images</h3><p name="a70d" id="a70d" class="graf graf--p graf-after--h3">Email clients block images. <a href="https://www.campaignmonitor.com/resources/guides/image-blocking-in-email/" data-href="https://www.campaignmonitor.com/resources/guides/image-blocking-in-email/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Campaign Monitor</a> and <a href="https://litmus.com/blog/the-ultimate-guide-to-email-image-blocking" data-href="https://litmus.com/blog/the-ultimate-guide-to-email-image-blocking" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Litmus</a> already have detailed articles explaining <em class="markup--em markup--p-em">when</em> that happens. But I always wondered <em class="markup--em markup--p-em">how</em> that happens. That is, how do webmails block images when they don’t display them by default? So I made a few tests focusing on images displayed with <em class="markup--em markup--p-em">&lt;img&gt;</em> tags. And I mostly identified two cases.</p><h3 name="3d23" id="3d23" class="graf graf--h3 graf-after--p">Removing the <em class="markup--em markup--h3-em">src</em> attribute</h3><p name="2912" id="2912" class="graf graf--p graf-after--h3">First, there are webmails who completely remove the <em class="markup--em markup--p-em">src</em> attribute from the <em class="markup--em markup--p-em">&lt;img&gt;</em> element. This is how <strong class="markup--strong markup--p-strong">Gmail</strong>, <strong class="markup--strong markup--p-strong">Yahoo</strong>, <strong class="markup--strong markup--p-strong">AOL</strong>, the new <strong class="markup--strong markup--p-strong">Outlook.com</strong> (and <strong class="markup--strong markup--p-strong">Office 365</strong>), the french webmail of Free (<strong class="markup--strong markup--p-strong">Zimbra</strong>) and the mobile webmail of <strong class="markup--strong markup--p-strong">La Poste</strong> proceed. Among these, some will add another attribute containing the value of the original <em class="markup--em markup--p-em">src</em> attribute. For example, on the mobile webmail of La Poste, the following code…</p><pre name="e57a" id="e57a" class="graf graf--pre graf-after--p">&lt;img src=&quot;http://i.imgur.com/NBHG9fv.jpg&quot; alt=&quot;&quot; /&gt;</pre><p name="d2ae" id="d2ae" class="graf graf--p graf-after--pre">… will be transformed into:</p><pre name="3a85" id="3a85" class="graf graf--pre graf-after--p">&lt;img data-src=&quot;http://i.imgur.com/NBHG9fv.jpg&quot; alt=&quot;&quot; /&gt;</pre><p name="2196" id="2196" class="graf graf--p graf-after--pre">The webmail of Free (Zimbra) uses an attribute named “<em class="markup--em markup--p-em">dfsrc”</em>. And AOL uses an astounding attribute named “<em class="markup--em markup--p-em">removedimage__7e53c284-b78b-1234–79c5–196085671d9b__src</em>” (where the code used in the attribute is different for every email).</p><p name="ab43" id="ab43" class="graf graf--p graf-after--p">Gmail, Yahoo and Outlook.com remove the <em class="markup--em markup--p-em">src</em> attribute without any replacement.</p><h3 name="be58" id="be58" class="graf graf--h3 graf-after--p">Replacing the image</h3><p name="a2dd" id="a2dd" class="graf graf--p graf-after--h3">On the other hand, there are webmails that keep the <em class="markup--em markup--p-em">src</em> attribute, but modify its value to indicate the path of a dummy image. This is how the <strong class="markup--strong markup--p-strong">old Outlook.com</strong> and the desktop webmail of <strong class="markup--strong markup--p-strong">La Poste</strong> proceed. Thus, the previous example would be transformed by the old Outlook.com into:</p><pre name="f5d6" id="f5d6" class="graf graf--pre graf-after--p">&lt;img src=&quot;https://a.gfx.ms/i_safe.gif&quot; onclick=&quot;onClickUnsafeLink(event);&quot; alt=&quot;&quot; /&gt;</pre><p name="b035" id="b035" class="graf graf--p graf-after--pre">The image used by the old Outlook.com is <a href="https://a.gfx.ms/i_safe.gif" data-href="https://a.gfx.ms/i_safe.gif" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">a 14x16 pixels grey GIF</a>. La Poste uses <a href="https://webmail.laposte.net/img/zimbra/1x1-trans.png" data-href="https://webmail.laposte.net/img/zimbra/1x1-trans.png" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">a 1x1 pixel transparent PNG</a>.</p><p name="6f0d" id="6f0d" class="graf graf--p graf-after--p">I feel dubitative about this technique as this means that on these clients, alternative texts will never appear when images are blocked. And even worse, the use of an opaque image on the old Outlook.com means that background colors you’d have knowingly added won’t be visible either.</p></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="2"><figure name="4793" id="4793" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--p" style="width: 50%;"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 76.6%;"></div><img class="graf-image" data-image-id="1*egTCJQoGYNg3rqQlpzmHfA.jpeg" data-width="1280" data-height="980" src="https://cdn-images-1.medium.com/max/600/1*egTCJQoGYNg3rqQlpzmHfA.jpeg"></div></figure><figure name="a40d" id="a40d" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 50%;"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 76.6%;"></div><img class="graf-image" data-image-id="1*1uAiiyJuAX7zX16yss3LJg.jpeg" data-width="1280" data-height="980" src="https://cdn-images-1.medium.com/max/600/1*1uAiiyJuAX7zX16yss3LJg.jpeg"></div><figcaption class="imageCaption" style="width: 200%; left: -100%;">The same email with images blocked on Gmail and the old Outlook.com. Gmail removes <em class="markup--em markup--figure-em">src</em> attributes, while the old Outlook.com replaces blocked images with a grey GIF.</figcaption></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="c319" id="c319" class="graf graf--p graf-after--figure">There’s one more case I only noticed on <a href="https://mail.yandex.com/" data-href="https://mail.yandex.com/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Yandex.Mail</a>. This webmail completely removes the <em class="markup--em markup--p-em">&lt;img&gt;</em> tag.</p><p name="4759" id="4759" class="graf graf--p graf-after--p">All those differences are very important to keep in mind when working on the render of an email with images blocked because browsers rendering engines behave differently depending on these cases. But this will be the subject of a future article!</p><p name="10fc" id="10fc" class="graf graf--p graf-after--p graf--trailing"><em class="markup--em markup--p-em">This post was originally published </em><a href="http://emails.hteumeuleu.fr/2015/07/comment-les-webmails-bloquent-les-images/" data-href="http://emails.hteumeuleu.fr/2015/07/comment-les-webmails-bloquent-les-images/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><em class="markup--em markup--p-em">on my blog in french</em></a><em class="markup--em markup--p-em"> in July 2015.</em></p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@hteumeuleu" class="p-author h-card">Rémi Parmentier</a> on <a href="https://medium.com/p/4cc2ba4d2d0e"><time class="dt-published" datetime="2016-08-30T19:21:51.146Z">August 30, 2016</time></a>.</p><p><a href="https://medium.com/@hteumeuleu/how-webmails-block-images-4cc2ba4d2d0e" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on April 9, 2020.</p></footer></article></body></html>