---
title:  "Email Coding Guidelines"
subtitle: "Where I share my coding principles for HTML emails."
date:   2019-05-23 12:08:30 +0200
---
<section name="4010" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="9451" id="9451" class="graf graf--h3 graf--leading graf--title">Email Coding Guidelines</h3><h4 name="690e" id="690e" class="graf graf--h4 graf-after--h3 graf--subtitle">Where I share my coding principles for HTML emails.</h4><p name="072e" id="072e" class="graf graf--p graf-after--h4">Last week I attended the <a href="https://www.2019.emday.fr/" data-href="https://www.2019.emday.fr/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">EMday conference</a> near Paris and <a href="https://speakerdeck.com/hteumeuleu/des-bonnes-pratiques-de-lintegration-de-mails" data-href="https://speakerdeck.com/hteumeuleu/des-bonnes-pratiques-de-lintegration-de-mails" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">shared some of my best practices</a> for coding HTML emails. I wrote a full document and <a href="https://github.com/hteumeuleu/email-guidelines" data-href="https://github.com/hteumeuleu/email-guidelines" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">it’s available on GitHub</a> for anyone to share, contribute and adapt to your own needs. This is heavily inspired by some popular web coding guidelines, like <a href="https://twitter.com/mdo" data-href="https://twitter.com/mdo" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">@mdo</a>’s <a href="http://codeguide.co/" data-href="http://codeguide.co/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Code Guide</a> and <a href="https://stackoverflow.design/email/guidelines/design-best-practices" data-href="https://stackoverflow.design/email/guidelines/design-best-practices" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Stack Overflow’s Email Design Best Practices</a>.</p><p name="5b51" id="5b51" class="graf graf--p graf-after--p">The goal of this document is to establish principles that anyone can apply to code modern, well supported and accessible HTML emails. This is the result of some of my work from the past few years where I gave email coding trainings and I spent a lot of time helping other email developers on <a href="https://email.geeks.chat/" data-href="https://email.geeks.chat/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Slack</a>, <a href="https://twitter.com/search?q=%28%23emailgeeks%29" data-href="https://twitter.com/search?q=(%23emailgeeks)" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Twitter</a> or <a href="https://litmus.com/community/discussions/newest" data-href="https://litmus.com/community/discussions/newest" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">forums</a>.</p><p name="1cd9" id="1cd9" class="graf graf--p graf-after--p graf--trailing">Here are three of the (now) nine points long document.</p></div></div></section><section name="259b" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="cc18" id="cc18" class="graf graf--h3 graf--leading">Use the HTML5 doctype</h3><p name="942e" id="942e" class="graf graf--p graf-after--h3">The HTML5 doctype is clean, short and easy to remember. It’s used by a vast majority of email clients, so your code will inherit it anyway. Just be aware that some other email clients might use other doctypes and your email might end up being rendered in <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Quirks_Mode_and_Standards_Mode" data-href="https://developer.mozilla.org/en-US/docs/Web/HTML/Quirks_Mode_and_Standards_Mode" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Quirks Mode</a>. (See also: <a href="https://emails.hteumeuleu.com/which-doctype-should-you-use-in-html-emails-cd323fdb793c" data-href="https://emails.hteumeuleu.com/which-doctype-should-you-use-in-html-emails-cd323fdb793c" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Which doctype should you use in HTML emails?</a>)</p><pre name="7117" id="7117" class="graf graf--pre graf-after--p graf--trailing">&lt;!-- Good example --&gt;<br>&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>  &lt;head&gt;&lt;/head&gt;<br>  &lt;body&gt;&lt;/body&gt;<br>&lt;/html&gt;</pre></div></div></section><section name="7daa" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="68ac" id="68ac" class="graf graf--h3 graf--leading">Make it work without <code class="markup--code markup--h3-code">&lt;style&gt;</code></h3><p name="f6dd" id="f6dd" class="graf graf--p graf-after--h3">Not every email clients support <code class="markup--code markup--p-code">&lt;style&gt;</code> tags. <code class="markup--code markup--p-code">&lt;style&gt;</code> tags filtering can be:</p><ul class="postList"><li name="5a63" id="5a63" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Permanent</strong>. For example, the Gmail Apps (on iOS and Android) with Non Gmail Accounts (also known as <em class="markup--em markup--li-em">GANGA</em>) don’t support <code class="markup--code markup--li-code">&lt;style&gt;</code> tags. This also happens on a lot of international email clients like <a href="http://www.libero.it/mail/" data-href="http://www.libero.it/mail/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">Libero</a> (in Italy), <a href="https://mail.ru/" data-href="https://mail.ru/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">Mail.ru</a> or <a href="https://mail.yandex.com/" data-href="https://mail.yandex.com/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">Yandex</a> (in Russia), <a href="http://home.mail.nate.com/" data-href="http://home.mail.nate.com/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">Nate</a> or <a href="https://mail.naver.com/" data-href="https://mail.naver.com/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">Naver</a> (in Korea), <a href="https://freemail.t-online.de/" data-href="https://freemail.t-online.de/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">T‑online</a> (in Germany), <a href="https://www.my.telstra.com.au/" data-href="https://www.my.telstra.com.au/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">Telstra</a> (in Australia) or <a href="https://mail.terra.com.br/" data-href="https://mail.terra.com.br/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">Terra</a> (in Brazil).</li><li name="1d5a" id="1d5a" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Temporary</strong>. In the past year, Gmail removed <code class="markup--code markup--li-code">&lt;style&gt;</code> tags for a day at least two times (on <a href="https://twitter.com/TaxiforEmail/status/1120645381669494785" data-href="https://twitter.com/TaxiforEmail/status/1120645381669494785" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">2019/04/23</a> and on <a href="https://twitter.com/HTeuMeuLeu/status/1017741221182263296" data-href="https://twitter.com/HTeuMeuLeu/status/1017741221182263296" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">2018/07/13</a>).</li><li name="f264" id="f264" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Contextual</strong>. When you forward an email in the desktop webmail of Gmail, all <code class="markup--code markup--li-code">&lt;style&gt;</code> tags are removed. Gmail is also known for removing <code class="markup--code markup--li-code">&lt;style&gt;</code> tags when an email is viewed in its <em class="markup--em markup--li-em">unclipped</em> version. (See also: <a href="https://github.com/hteumeuleu/email-bugs/issues/56" data-href="https://github.com/hteumeuleu/email-bugs/issues/56" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Gmail removes </a><code class="markup--code markup--li-code"><a href="https://github.com/hteumeuleu/email-bugs/issues/56" data-href="https://github.com/hteumeuleu/email-bugs/issues/56" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">&lt;style&gt;</a></code><a href="https://github.com/hteumeuleu/email-bugs/issues/56" data-href="https://github.com/hteumeuleu/email-bugs/issues/56" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank"> tags in non clipped view</a>.)</li><li name="7909" id="7909" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Buggy</strong>. The Yahoo app on Android removes <code class="markup--code markup--li-code">&lt;style&gt;</code> tags inside the first <code class="markup--code markup--li-code">&lt;head&gt;</code> of your page. (See also: <a href="https://github.com/hteumeuleu/email-bugs/issues/28" data-href="https://github.com/hteumeuleu/email-bugs/issues/28" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Yahoo! Mail app for Android strips styles from the first </a><code class="markup--code markup--li-code"><a href="https://github.com/hteumeuleu/email-bugs/issues/28" data-href="https://github.com/hteumeuleu/email-bugs/issues/28" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">&lt;head&gt;</a></code><a href="https://github.com/hteumeuleu/email-bugs/issues/28" data-href="https://github.com/hteumeuleu/email-bugs/issues/28" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank"> tag</a>.)</li></ul><p name="ce23" id="ce23" class="graf graf--p graf--startsWithDoubleQuote graf-after--li"><em class="markup--em markup--p-em">“Making an email work</em>” without <code class="markup--code markup--p-code">&lt;style&gt;</code> can mean a lot of different things. But I think first and foremost about:</p><ul class="postList"><li name="902a" id="902a" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Layout</strong>. An email without <code class="markup--code markup--li-code">&lt;style&gt;</code> should adjust to any width without horizontal scroll. I usually consider to go as low as 280px wide which reflects the width an email viewed on Gmail on an iPhone SE.</li><li name="7cb6" id="7cb6" class="graf graf--li graf-after--li graf--trailing"><strong class="markup--strong markup--li-strong">Branding</strong>. An email without <code class="markup--code markup--li-code">&lt;style&gt;</code> should reflect the branding of the sender.</li></ul></div></div></section><section name="d1e1" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="1bb6" id="1bb6" class="graf graf--h3 graf--leading">Don’t split visuals</h3><p name="c3e6" id="c3e6" class="graf graf--p graf-after--h3">Avoid splitting an image into multiple files. This is important for several reasons:</p><ul class="postList"><li name="45cb" id="45cb" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Performance</strong>. Just <a href="https://developer.yahoo.com/performance/rules.html" data-href="https://developer.yahoo.com/performance/rules.html" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">like on the Web</a>, The fewer HTTP requests the better. Downloading a single 50 Kb image is theoretically faster than downloading five 10 Kb images.</li><li name="3fad" id="3fad" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Accessibility</strong>. A single image will let you define a single clean <code class="markup--code markup--li-code">alt</code> text, and style it in case images aren’t visible.</li><li name="7573" id="7573" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">WebKit</strong> adds small thin lines between images when using a CSS <code class="markup--code markup--li-code">transform</code> on a whole email. This is something used by numerous email clients to adjust the rendering of non responsive emails on smaller screens.</li></div><div class="section-inner sectionLayout--outsetColumn"></ul><figure name="a6a6" id="a6a6" class="graf graf--figure graf--layoutOutsetCenter graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 1192px; max-height: 490px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 41.099999999999994%;"></div><img class="graf-image" data-image-id="1*2CHIjuhc9JSmpNjoSQl3aw.jpeg" data-width="1341" data-height="551" data-is-featured="true" src="https://cdn-images-1.medium.com/max/1200/1*2CHIjuhc9JSmpNjoSQl3aw.jpeg"></div><figcaption class="imageCaption">The current beta of Outlook.com uses a CSS transform to adjust the display of an email within its preview pane. On Chrome or Safari, this can result in thin lines between split images like <a href="https://emails.hteumeuleu.fr/wp-content/uploads/2016/10/doctype-image-xhtml.html" data-href="https://emails.hteumeuleu.fr/wp-content/uploads/2016/10/doctype-image-xhtml.html" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">in this example</a>.</figcaption></figure></div><div class="section-inner sectionLayout--insetColumn"><ul class="postList"><li name="8e41" id="8e41" class="graf graf--li graf-after--figure">Because <strong class="markup--strong markup--li-strong">shit happens</strong>. Email clients or user preferences may change how your email look. You don’t want <a href="http://i.imgur.com/NhoEN.jpg" data-href="http://i.imgur.com/NhoEN.jpg" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">this</a> to happen:</li></ul><figure name="2d1e" id="2d1e" class="graf graf--figure graf-after--li graf--trailing"><div class="aspectRatioPlaceholder is-locked" style="max-width: 320px; max-height: 480px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 150%;"></div><img class="graf-image" data-image-id="1*AD5rZWtQxUKthimM7sZBRw.jpeg" data-width="320" data-height="480" src="https://cdn-images-1.medium.com/max/800/1*AD5rZWtQxUKthimM7sZBRw.jpeg"></div><figcaption class="imageCaption">Image splitting gone wrong on a LinkedIn email. (Found under “<em class="markup--em markup--figure-em">She must be Canadian</em>.” <a href="https://www.reddit.com/r/pics/comments/g1sih/she_must_be_canadian/" data-href="https://www.reddit.com/r/pics/comments/g1sih/she_must_be_canadian/" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">on Reddit</a>.)</figcaption></figure></div></div></section><section name="116d" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="0430" id="0430" class="graf graf--p graf--leading"><strong class="markup--strong markup--p-strong">Want to learn more?</strong> Here are some of the topics addressed in the rest of the document:</p><ul class="postList"><li name="c207" id="c207" class="graf graf--li graf-after--p">The <code class="markup--code markup--li-code">lang</code> attribute</li><li name="353c" id="353c" class="graf graf--li graf-after--li">Semantic text markup</li><li name="8dff" id="8dff" class="graf graf--li graf-after--li">Tables for layout</li><li name="3eba" id="3eba" class="graf graf--li graf-after--li">Styles over attributes</li><li name="e31d" id="e31d" class="graf graf--li graf-after--li">Use <code class="markup--code markup--li-code">margin</code> or <code class="markup--code markup--li-code">padding</code> for spacing</li><li name="d44e" id="d44e" class="graf graf--li graf-after--li">Support Outlook at 120dpi</li></ul><p name="91fc" id="91fc" class="graf graf--p graf-after--li graf--trailing">Head over to GitHub for the full <a href="https://github.com/hteumeuleu/email-guidelines" data-href="https://github.com/hteumeuleu/email-guidelines" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Email Coding Guidelines</a> document. It’s also <a href="https://github.com/hteumeuleu/email-guidelines/tree/master/translations/fr-FR" data-href="https://github.com/hteumeuleu/email-guidelines/tree/master/translations/fr-FR" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">available in french</a>, and translations contribution are welcome!</p></div></div></section>
</section>