<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Should we stop inlining styles in emails?</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Should we stop inlining styles in emails?</h1>
</header>
<section data-field="subtitle" class="p-summary">
Until last year, Gmail was one of the biggest email clients that only supported inline styles. The webmails of Yahoo, AOL, Outlook.com and…
</section>
<section data-field="body" class="e-content">
<section name="79d6" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="1cd7" id="1cd7" class="graf graf--h3 graf--leading graf--title">Should we stop inlining styles in emails?</h3><p name="45c7" id="45c7" class="graf graf--p graf-after--h3">Until last year, Gmail was one of the biggest email clients that only supported inline styles. The webmails of Yahoo, AOL, Outlook.com and, <em class="markup--em markup--p-em">yes</em>, even the desktop versions of Outlook using Word’s rendering engine (from 2007 to 2016 on Windows) have all long supported <code class="markup--code markup--p-code">&lt;style&gt;</code> tags. <a href="https://emails.hteumeuleu.com/trying-to-make-sense-of-gmail-css-support-after-the-2016-update-53c15151063a" data-href="https://emails.hteumeuleu.com/trying-to-make-sense-of-gmail-css-support-after-the-2016-update-53c15151063a" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">The 2016 Gmail update</a> was a total game changer and finally added support for <code class="markup--code markup--p-code">&lt;style&gt;</code> tags as well as for <code class="markup--code markup--p-code">class</code> and <code class="markup--code markup--p-code">id</code> attributes. So is 2017 finally the year to stop inlining styles?</p><p name="3d17" id="3d17" class="graf graf--p graf-after--p">This question rose again last month when Litmus’ Kevin Mandeville shared insights about <a href="https://litmus.com/community/discussions/6116-here-s-why-litmus-didn-t-inline-css-for-its-first-newsletter-of-2017" data-href="https://litmus.com/community/discussions/6116-here-s-why-litmus-didn-t-inline-css-for-its-first-newsletter-of-2017" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">why Litmus didn’t inline CSS for its first newsletter</a>. While this makes a lot of sense for Litmus and their audience, and they did a great job at providing a gracefully degraded version, I’m not sure it is time to advise to stop inlining styles for the whole email development industry.</p><p name="8296" id="8296" class="graf graf--p graf-after--p">Here are a few things to consider, pros and cons.</p><h3 name="b0dd" id="b0dd" class="graf graf--h3 graf-after--p">Not all email clients support &lt;style&gt; tags.</h3><p name="9726" id="9726" class="graf graf--p graf-after--h3">A lot of international email clients don’t support <code class="markup--code markup--p-code">&lt;style&gt;</code> tags. Clients like <a href="http://www.libero.it/mail/" data-href="http://www.libero.it/mail/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Libero</a> (in Italy), <a href="https://mail.ru/" data-href="https://mail.ru/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Mail.ru</a> or <a href="https://mail.yandex.com/" data-href="https://mail.yandex.com/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Yandex</a> (in Russia), <a href="http://home.mail.nate.com/" data-href="http://home.mail.nate.com/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Nate</a> or <a href="https://mail.naver.com" data-href="https://mail.naver.com" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Naver</a> (in Korea), <a href="https://freemail.t-online.de/" data-href="https://freemail.t-online.de/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">T‑online</a> (in Germany), <a href="https://www.my.telstra.com.au" data-href="https://www.my.telstra.com.au" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Telstra</a> (in Australia) or <a href="https://mail.terra.com.br/" data-href="https://mail.terra.com.br/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Terra</a> (in Brazil).</p><p name="7e30" id="7e30" class="graf graf--p graf-after--p">Sometimes it also happens only on some versions of certain international clients. In France, <a href="https://itunes.apple.com/fr/app/sfr-mail-lapplication-messagerie/id394373195" data-href="https://itunes.apple.com/fr/app/sfr-mail-lapplication-messagerie/id394373195" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">the iOS app of SFR</a> or <a href="https://play.google.com/store/apps/details?id=com.orange.mail.fr&amp;hl=fr" data-href="https://play.google.com/store/apps/details?id=com.orange.mail.fr&amp;hl=fr" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">the Android app of Orange</a> don’t support <code class="markup--code markup--p-code">&lt;style&gt;</code> either (while their other desktop or mobile counterparts do).</p><p name="e8a9" id="e8a9" class="graf graf--p graf-after--p">But above all, even Gmail, Yahoo or Outlook.com sometimes don’t support <code class="markup--code markup--p-code">&lt;style&gt;</code> tags. This is true for Gmail on Android with a Non Gmail Account (aka GANGA), Yahoo on their Android app or mobile webmail, and Outlook.com on mobile on their old webmail (still available for some users in Europe).</p><h3 name="ff99" id="ff99" class="graf graf--h3 graf-after--p">Email clients have their own default styles.</h3><p name="1815" id="1815" class="graf graf--p graf-after--h3">This is especially problematic within webmails, where your HTML email will inherit from too generic styles of webmails. For example, the desktop webmail of Gmail has the following CSS rule for its UI that changes the default blue of links.</p><pre name="3a41" id="3a41" class="graf graf--pre graf-after--p">.ii a[href] {<br>  color: #15c;<br>}</pre><p name="1e91" id="1e91" class="graf graf--p graf-after--pre">Because it’s a very generic rule, it will apply for links inside your emails. Because it’s also a specific rule (targeting a class name, a tag name and an attribute name), you can’t simply override it with a generic <code class="markup--code markup--p-code">a {color:inherit;}</code> style. And because Gmail doesn’t support attribute selectors, you can’t use a <code class="markup--code markup--p-code">a[href]</code> selector. This doesn’t mean it can be solved with a more specific selector. But you’ll need to repeat this for every email client default styles.</p><figure name="ddb5" id="ddb5" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 364px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 52%;"></div><img class="graf-image" data-image-id="1*tBYGEA3M93e43dZD51co-w.png" data-width="1019" data-height="530" src="https://cdn-images-1.medium.com/max/800/1*tBYGEA3M93e43dZD51co-w.png"></div><figcaption class="imageCaption">The old version of Outlook.com <a href="https://speakerdeck.com/hteumeuleu/comment-sortir-lintegration-de-mails-de-la-prehistoire?slide=43" data-href="https://speakerdeck.com/hteumeuleu/comment-sortir-lintegration-de-mails-de-la-prehistoire?slide=43" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">infamously added</a> styles like `background-color` or `border-bottom` for every &lt;h2&gt; tags.</figcaption></figure><p name="9f82" id="9f82" class="graf graf--p graf-after--figure">One unsuspected advantage of inlining styles is that it overrides email clients default styles automatically, without requiring you to spend hours inspecting every email clients.</p><h3 name="9023" id="9023" class="graf graf--h3 graf-after--p">It makes your code lighter.</h3><p name="c373" id="c373" class="graf graf--p graf-after--h3">This is actually a huge argument in favor of not inlining styles. I ran a quick comparison on <a href="https://litmus.com/community/discussions/6116-here-s-why-litmus-didn-t-inline-css-for-its-first-newsletter-of-2017" data-href="https://litmus.com/community/discussions/6116-here-s-why-litmus-didn-t-inline-css-for-its-first-newsletter-of-2017" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Litmus’ own newsletter</a>. Sent without inline styles, the email weighs around 58 Kb. With inline styles (automatically generated by <a href="http://www.putsmail.com" data-href="http://www.putsmail.com" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Putsmail</a>), the email would weigh around 73 Kb. That’s a huge 25 % difference!</p><p name="194c" id="194c" class="graf graf--p graf-after--p">A lighter HTML means it’s faster to initially download. But it can also help avoid having your <a href="https://www.emailonacid.com/blog/article/email-development/when_it_comes_to_html_email_size_does_matter" data-href="https://www.emailonacid.com/blog/article/email-development/when_it_comes_to_html_email_size_does_matter" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">emails clipped by certain email clients</a>. For example, the desktop webmail of Gmail clips any content after the first 102 Kb of an email. A subscriber has to click on a “View entire message” link in order to display the email entirely.</p><p name="40e5" id="40e5" class="graf graf--p graf-after--p">However, not inlining style might become counter productive for elements that only appear once in an email. A <code class="markup--code markup--p-code">class</code> attribute plus a <code class="markup--code markup--p-code">&lt;style&gt;</code> declaration will weigh more than a single <code class="markup--code markup--p-code">inline</code> attribute.</p><h3 name="e410" id="e410" class="graf graf--h3 graf-after--p">Inlining styles is a pain in the ass.</h3><p name="3980" id="3980" class="graf graf--p graf-after--h3">Is it, really? I mean, if you come from the Web development world, it sure is one the first quirk of the Email development world you’ll notice. But in the email world, we’ve been inlining styles since the beginning. Using your own <a href="https://helpx.adobe.com/dreamweaver/using/reuse-code-with-snippets.html" data-href="https://helpx.adobe.com/dreamweaver/using/reuse-code-with-snippets.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">snippets</a>, tools like <a href="http://emmet.io/" data-href="http://emmet.io/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Emmet</a> or one of the many <a href="https://mosaico.io/email-client-tricks/email-inliners/" data-href="https://mosaico.io/email-client-tricks/email-inliners/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">inliners</a> out there makes this pretty much painless.</p><p name="6345" id="6345" class="graf graf--p graf-after--p">There might be other arguments for or against inlining styles in emails. But I’d like to end this article with <a href="http://www.hteumeuleu.fr/le-mantra-de-l-integrateur/" data-href="http://www.hteumeuleu.fr/le-mantra-de-l-integrateur/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">something I wrote on my french blog five years ago</a>.</p><h3 name="ed4e" id="ed4e" class="graf graf--h3 graf-after--p">The Email Developer Mantra</h3><p name="149c" id="149c" class="graf graf--p graf-after--h3">Whenever I code, may it be for the web or for emails, I always come down to one question…</p><blockquote name="d395" id="d395" class="graf graf--pullquote graf-after--p">What’s best for users?</blockquote><p name="6831" id="6831" class="graf graf--p graf-after--pullquote">I need to code a carousel for a homepage. I can search the Web for one already existing that will fit my need. Or I can code one myself. <strong class="markup--strong markup--p-strong">What’s best for users?</strong></p><p name="b7ba" id="b7ba" class="graf graf--p graf-after--p">The designer used funky fonts for this email. I can code this email with all the text in images. Or I can embed the font in CSS and set the text in HTML, knowing that this won’t work in every email client. <strong class="markup--strong markup--p-strong">What’s best for users?</strong></p><p name="ab75" id="ab75" class="graf graf--p graf-after--p">Not all email clients support <code class="markup--code markup--p-code">&lt;style&gt;</code> tags. I can inline all my styles. Or I can just make sure the email will gracefully degrade and render as good as it can on other email clients. <strong class="markup--strong markup--p-strong">What’s best for users?</strong></p><p name="4fb6" id="4fb6" class="graf graf--p graf-after--p">The beauty of this question is it doesn’t have a definite answer. What works for some projects might not work for others. What works now might not apply for the future.</p><p name="0de8" id="0de8" class="graf graf--p graf-after--p graf--trailing">So while I’m not sold on the idea to stop inlining for the emails I work on, I’m excited to know this is something I can now consider.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@hteumeuleu" class="p-author h-card">Rémi Parmentier</a> on <a href="https://medium.com/p/8c3b64f0d407"><time class="dt-published" datetime="2017-02-08T12:55:35.923Z">February 8, 2017</time></a>.</p><p><a href="https://medium.com/@hteumeuleu/should-we-stop-inlining-styles-in-emails-8c3b64f0d407" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on April 9, 2020.</p></footer></article></body></html>