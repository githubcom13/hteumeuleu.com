---
title:  "Should we stop inlining styles in emails?"
date:   2017-02-08 12:55:35 +0200
---
<h2 id="1cd7">Should we stop inlining styles in emails?</h2>
<p id="45c7">Until last year, Gmail was one of the biggest email clients that only supported inline styles. The webmails of Yahoo, AOL, Outlook.com and, <em>yes</em>, even the desktop versions of Outlook using Word’s rendering engine (from 2007 to 2016 on Windows) have all long supported <code>&lt;style&gt;</code> tags. <a href="https://emails.hteumeuleu.com/trying-to-make-sense-of-gmail-css-support-after-the-2016-update-53c15151063a" rel="noopener">The 2016 Gmail update</a> was a total game changer and finally added support for <code>&lt;style&gt;</code> tags as well as for <code>class</code> and <code>id</code> attributes. So is 2017 finally the year to stop inlining styles?</p>
<p id="3d17">This question rose again last month when Litmus’ Kevin Mandeville shared insights about <a href="https://litmus.com/community/discussions/6116-here-s-why-litmus-didn-t-inline-css-for-its-first-newsletter-of-2017" rel="noopener">why Litmus didn’t inline CSS for its first newsletter</a>. While this makes a lot of sense for Litmus and their audience, and they did a great job at providing a gracefully degraded version, I’m not sure it is time to advise to stop inlining styles for the whole email development industry.</p>
<p id="8296">Here are a few things to consider, pros and cons.</p><h2 id="b0dd">Not all email clients support &lt;style&gt; tags.</h2>
<p id="9726">A lot of international email clients don’t support <code>&lt;style&gt;</code> tags. Clients like <a href="http://www.libero.it/mail/" rel="noopener">Libero</a> (in Italy), <a href="https://mail.ru/" rel="noopener">Mail.ru</a> or <a href="https://mail.yandex.com/" rel="noopener">Yandex</a> (in Russia), <a href="http://home.mail.nate.com/" rel="noopener">Nate</a> or <a href="https://mail.naver.com" rel="noopener">Naver</a> (in Korea), <a href="https://freemail.t-online.de/" rel="noopener">T‑online</a> (in Germany), <a href="https://www.my.telstra.com.au" rel="noopener">Telstra</a> (in Australia) or <a href="https://mail.terra.com.br/" rel="noopener">Terra</a> (in Brazil).</p>
<p id="7e30">Sometimes it also happens only on some versions of certain international clients. In France, <a href="https://itunes.apple.com/fr/app/sfr-mail-lapplication-messagerie/id394373195" rel="noopener">the iOS app of SFR</a> or <a href="https://play.google.com/store/apps/details?id=com.orange.mail.fr&amp;hl=fr" rel="noopener">the Android app of Orange</a> don’t support <code>&lt;style&gt;</code> either (while their other desktop or mobile counterparts do).</p>
<p id="e8a9">But above all, even Gmail, Yahoo or Outlook.com sometimes don’t support <code>&lt;style&gt;</code> tags. This is true for Gmail on Android with a Non Gmail Account (aka GANGA), Yahoo on their Android app or mobile webmail, and Outlook.com on mobile on their old webmail (still available for some users in Europe).</p><h2 id="ff99">Email clients have their own default styles.</h2>
<p id="1815">This is especially problematic within webmails, where your HTML email will inherit from too generic styles of webmails. For example, the desktop webmail of Gmail has the following CSS rule for its UI that changes the default blue of links.</p>
<pre id="3a41"><code>.ii a[href] {<br>  color: #15c;<br>}</code></pre>
<p id="1e91">Because it’s a very generic rule, it will apply for links inside your emails. Because it’s also a specific rule (targeting a class name, a tag name and an attribute name), you can’t simply override it with a generic <code>a {color:inherit;}</code> style. And because Gmail doesn’t support attribute selectors, you can’t use a <code>a[href]</code> selector. This doesn’t mean it can be solved with a more specific selector. But you’ll need to repeat this for every email client default styles.</p>

<figure id="ddb5">
	<img alt="" src="https://cdn-images-1.medium.com/max/800/1*tBYGEA3M93e43dZD51co-w.png">
	<figcaption>The old version of Outlook.com <a href="https://speakerdeck.com/hteumeuleu/comment-sortir-lintegration-de-mails-de-la-prehistoire?slide=43" rel="noopener">infamously added</a> styles like `background-color` or `border-bottom` for every &lt;h2&gt; tags.</figcaption>
</figure>
<p id="9f82">One unsuspected advantage of inlining styles is that it overrides email clients default styles automatically, without requiring you to spend hours inspecting every email clients.</p><h2 id="9023">It makes your code lighter.</h2>
<p id="c373">This is actually a huge argument in favor of not inlining styles. I ran a quick comparison on <a href="https://litmus.com/community/discussions/6116-here-s-why-litmus-didn-t-inline-css-for-its-first-newsletter-of-2017" rel="noopener">Litmus’ own newsletter</a>. Sent without inline styles, the email weighs around 58 Kb. With inline styles (automatically generated by <a href="http://www.putsmail.com" rel="noopener">Putsmail</a>), the email would weigh around 73 Kb. That’s a huge 25 % difference!</p>
<p id="194c">A lighter HTML means it’s faster to initially download. But it can also help avoid having your <a href="https://www.emailonacid.com/blog/article/email-development/when_it_comes_to_html_email_size_does_matter" rel="noopener">emails clipped by certain email clients</a>. For example, the desktop webmail of Gmail clips any content after the first 102 Kb of an email. A subscriber has to click on a “View entire message” link in order to display the email entirely.</p>
<p id="40e5">However, not inlining style might become counter productive for elements that only appear once in an email. A <code>class</code> attribute plus a <code>&lt;style&gt;</code> declaration will weigh more than a single <code>inline</code> attribute.</p><h2 id="e410">Inlining styles is a pain in the ass.</h2>
<p id="3980">Is it, really? I mean, if you come from the Web development world, it sure is one the first quirk of the Email development world you’ll notice. But in the email world, we’ve been inlining styles since the beginning. Using your own <a href="https://helpx.adobe.com/dreamweaver/using/reuse-code-with-snippets.html" rel="noopener">snippets</a>, tools like <a href="http://emmet.io/" rel="noopener">Emmet</a> or one of the many <a href="https://mosaico.io/email-client-tricks/email-inliners/" rel="noopener">inliners</a> out there makes this pretty much painless.</p>
<p id="6345">There might be other arguments for or against inlining styles in emails. But I’d like to end this article with <a href="http://www.hteumeuleu.fr/le-mantra-de-l-integrateur/" rel="noopener">something I wrote on my french blog five years ago</a>.</p><h2 id="ed4e">The Email Developer Mantra</h2>
<p id="149c">Whenever I code, may it be for the web or for emails, I always come down to one question…</p><blockquote id="d395">What’s best for users?</blockquote>
<p id="6831">I need to code a carousel for a homepage. I can search the Web for one already existing that will fit my need. Or I can code one myself. <strong>What’s best for users?</strong></p>
<p id="b7ba">The designer used funky fonts for this email. I can code this email with all the text in images. Or I can embed the font in CSS and set the text in HTML, knowing that this won’t work in every email client. <strong>What’s best for users?</strong></p>
<p id="ab75">Not all email clients support <code>&lt;style&gt;</code> tags. I can inline all my styles. Or I can just make sure the email will gracefully degrade and render as good as it can on other email clients. <strong>What’s best for users?</strong></p>
<p id="4fb6">The beauty of this question is it doesn’t have a definite answer. What works for some projects might not work for others. What works now might not apply for the future.</p>
<p id="0de8">So while I’m not sold on the idea to stop inlining for the emails I work on, I’m excited to know this is something I can now consider.</p>